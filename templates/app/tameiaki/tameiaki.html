{% extends 'base.html' %}
{% load widget_tweaks %}
{% block content %}
<form method="get">
  {% csrf_token %}
  <div class="well">
    <div class="row">
      <div class="form-group col-sm-4 col-md-3" style="padding-left:40px;">
        {{ my_Filter.form.customer.label_tag }}
        {% render_field my_Filter.form.customer class="form-control" %}
      </div>
      <div class="form-group col-sm-4 col-md-3">
        {{ my_Filter.form.cash_model.label_tag }}
        {% render_field my_Filter.form.cash_model class="form-control" %}
      </div>
      <div class="form-group col-sm-4 col-md-2">
        <button type="submit" class="btn btn-warning btn-dm" style="position: absolute; top:50%;">
          <span class="fa fa-search">Search</span>
        </button>
    </div>
  </div>
</form>

<div class="float-left" style="padding-left:20px; color: #726E6D; font-weight:500">
  <ul>
    <li>Σύνολο Ταμειακών: {{cash}}</li>
    <li>Online: {{cash_online}}</li>
    <li>Offline: {{cash_offline}}</li>
  </ul>
</div>
<div class="float-right mb-3 mr-5">
  <button id="refreshButton" class="btn btn-outline-info btn-sm"><i class="bi bi-arrow-clockwise"></i></button>
  <a href="{% url 'new-cash' %}" class="btn btn-primary btn-sm active" role="button" aria-pressed="true">Νέος Εγγραφή</a>
  <a href="#" class="btn btn-success btn-sm active" role="button" aria-pressed="true">Εξαγωγή</a>
</div>
  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>

<div id="cashDiv" class="mt-5" style="padding-left:20px; padding-right:20px;">
  <table class="table">
      <thead>
          <tr>
              <th>Πελάτης</th>
              <th>Μοντέλο Ταμ.</th>
              <th>Αρ. Μητρώου</th>
              <th>Ημ. Δήλωσης</th>
              <th>OS Version</th>
              <th>New OS Version</th>
              <th>Κατάσταση</th>
              <th>Σημειώσεις</th>
          </tr>
      </thead>
      <tbody>
        {% for cash in data %}
          {% if cash.status == False %}
        <tr class="tbrows" style="background-color: red; color: white;">
          {% else %}
        <tr class="tbrows">
          {% endif %}
            <td>{{ cash.customer|title }}</td>
            <td>{{ cash.cash_model }}</td>
            <td>{{ cash.cash_number }}</td>
            <td>{{ cash.register_date|date:"d-m-Y" }}</td>
            <td>{{ cash.old_os }}</td>
            <td>{{ cash.new_os }}</td>
            {% if item.status == True %}
            <td style="color:green">Online</td>
            {% else %}
            <td style=" font-weight: bolder;">Offline
            {% endif %}
            <td>{{ cash.info }}</td>

          {% endfor %}    
      </tbody>
  </table>
  <div class="pagination">
    <span class="step-links">
      {% if page.has_previous %}
        <a href="?page={{ page.previous_page_number }}" class="btn btn-primary" role="button">Previous</a>
      {% endif %}
      <span class="current">
        Page {{ page.number }} of {{ page.paginator.num_pages }}.
      </span>
      {% if page.has_next %}
        <a href="?page={{ page.next_page_number }}" class="btn btn-primary" role="button">Next</a>
      {% endif %}
    </span>
  </div>
</div>
<script type='text/javascript'>
  const myDiv = document.getElementById("cashDiv");
  const myButton = document.getElementById("refreshButton");
  myButton.addEventListener("click", function() {
    // Replace the contents of the div with new content
   
  });
</script>
{% endblock %}